var devtools=devtools||{};(function(a){a.init=function(){devtools.utilities.checkUrl();devtools.filters.init();devtools.favorites.init();devtools.posts.init();devtools.scroll.init()}})(devtools.core=devtools.core||{});
(function(a){function b(){try{return"localStorage"in window&&null!==window.localStorage}catch(b){return!1}}var d=-1;a.log=function(){"undefined"!==typeof console&&console.log.apply(console,arguments)};a.load=function(a){var e="";return b()?(e=localStorage.getItem(a))||"":""};a.save=function(a,e){b()&&localStorage.setItem(a,e)};a.firstVisit=function(){-1===d&&(d=a.load("firstVisit")||1,a.save("firstVisit",0));return!!parseInt(d,10)};a.checkUrl=function(){-1<window.location.href.indexOf("github")&&
(window.location.href="http://devtoolsecrets.com/")}})(devtools.utilities=devtools.utilities||{});
(function(a,b){function d(){var a={},e=0,d=a=0,a=b(".controller .post:visible:not(.loaded)").filter(":first");0<a.length&&(e=k.scrollTop(),a=a.offset().top,d=k.height(),e+1.5*d>a&&devtools.posts.loadBatch())}function l(){!devtools.posts.getLoadState()&&!g&&(g=!0,d(),setTimeout(function(){g=!1},e))}var e=100,k=b(window),g=!1;a.init=function(){b(window).scroll(l)}})(devtools.scroll=devtools.scroll||{},jQuery);
(function(a,b){function d(b){return b.filter(":visible").length}function l(a,c,f){h=!0;b.ajax(c).done(function(c){c=b(c).find(".post-content").html();a.addClass("loaded").find(".post-content").html(c);f&&k(a)}).fail(function(){a.hide()}).always()}function e(a){var c=b(this).parent(".post");a.preventDefault();c.hasClass("small")?k(c):c.addClass("small")}function k(a){var b="",f="",b=a.find(".post-header a").text(),f=a.data("url");ga&&ga("send","pageview",{page:f,title:b});a.hasClass("loaded")?(a.removeClass("small"),
g(a)):l(a,f,!0)}function g(a){a.find(".image img, .video iframe").filter(":not(.loaded)").each(function(){var a=b(this);""!==a.data("src")&&a.addClass("loaded").attr("src",a.data("src"))})}function n(){var a=0;m.filter(":visible:not(.loaded)").each(function(){var c=b(this),f="",f=c.data("url");c.is(":visible")&&(a++,l(c,f));if(4<=a)return h=!1})}var m=b(".controller .post"),p=b(".controller > section"),h=!1;a.toggleSections=function(){p.show();p.each(function(){var a=b(this);0===d(a.find(".post"))&&
a.hide()})};a.countAvailablePosts=d;a.loadBatch=n;a.getLoadState=function(){return h};a.init=function(){m.on("click",".post-header",e);n()}})(devtools.posts=devtools.posts||{},jQuery);
(function(a,b){function d(){var a=devtools.utilities.load("favorites");return a.length?a.split(","):[]}function l(){c=d();m.each(function(){var a=b(this);0<=c.join().indexOf(a.data("url"))&&a.addClass("favorite")})}function e(a){var e=b(this).parents(".post"),d=0,g=0,h="";a.preventDefault();h=e.data("url");if(e.hasClass("favorite")){e.removeClass("favorite");d=0;for(g=c.length;d<g;d++)c[d]===h&&c.splice(d,1)}else e.addClass("favorite"),c.push(h);devtools.utilities.log(c);devtools.utilities.save("favorites",
c.join(","));k()}function k(){p.hide();0<c.length?(s.hide(),h.show()):(s.show(),h.hide())}function g(a){a=b(this);a.hasClass("checked")?(devtools.filters.filterPosts(),devtools.filters.updateSecretCount(),a.removeClass("checked")):(n(),devtools.filters.updateSecretCount(),a.addClass("checked"))}function n(){m.each(function(){var a=b(this);a.hasClass("favorite")?a.show():a.hide()});devtools.posts.toggleSections()}var m=b(".controller .post"),p=b(".loading-favorites"),h=b(".favorite-selection"),s=b(".no-favorites"),
c=[];a.init=function(){m.on("click",".icon-favorite",e);h.on("click",g);l();k()}})(devtools.favorites=devtools.favorites||{},jQuery);
(function(a,b){function d(a,c){a=[];c.each(function(){this.checked?(a.push(this.id),b(this).parent("li").addClass("checked")):b(this).parent("li").removeClass("checked")});return a}function l(a,c){a=a.join(" ");c.each(function(){0<=a.indexOf(this.id)?(this.checked="checked",b(this).parent("li").addClass("checked")):(this.checked="",b(this).parent("li").removeClass("checked"))})}function e(a,c){a=[];c.each(function(){this.checked="checked";a.push(this.id);b(this).parent("li").addClass("checked")})}
function k(a){a=devtools.utilities.load(a);return a.length?a.split(","):[]}function g(a){a?t.addClass("chrome firefox internet-explorer opera safari"):t.removeClass("chrome firefox internet-explorer opera safari").addClass(f.join(" "))}function n(){b(".secret-count").find("span").html(devtools.posts.countAvailablePosts(u))}function m(b){b&&b.preventDefault();c=d(c,q);devtools.utilities.save("categoryFilters",c.join(","));a.filterPosts()}function p(b){b&&b.preventDefault();f=d(f,r);devtools.utilities.save("browserFilters",
f.join(","));g();a.filterPosts()}function h(){u.each(function(){for(var a=b(this),d=0,e=0,g=a.data("categories"),h=a.data("browsers"),k=!1,l=!1,d=0,e=c.length;d<e;d++)if(0<=g.indexOf(c[d])){k=!0;break}d=0;for(e=f.length;d<e;d++)if(0<=h.indexOf(f[d])){l=!0;break}k&&l?a.show():a.hide()});devtools.posts.toggleSections()}function s(a){var c={};a.preventDefault();c=b(this).find("input:checkbox");c.is(":checked")?c.prop("checked",""):c.prop("checked","checkbox");c.trigger("change");n()}var c=[],f=[],q=
b(".type-selections").find("input:checkbox"),r=b(".browser-selections").find("input:checkbox"),t=b(".controller"),v=b(".selections li"),u=b(".post");a.updateSecretCount=n;a.filterPosts=h;a.init=function(){v.on("click",s);q.on("change",m);r.on("change",p);c=k("categoryFilters");f=k("browserFilters");devtools.utilities.firstVisit?(e(c,q),e(f,r),m(),p()):(0===c.length?e(c,q):l(c,q),0===f.length?(e(f,r),g(!0)):(l(f,r),g()));n();h()}})(devtools.filters=devtools.filters||{},jQuery);devtools.core.init();
//@ sourceMappingURL=/assets/js/common.js.map